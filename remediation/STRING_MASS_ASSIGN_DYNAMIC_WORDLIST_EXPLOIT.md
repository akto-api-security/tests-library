# Remediation for STRING_MASS_ASSIGN_DYNAMIC_WORDLIST_EXPLOIT

## Remediation Steps for Mass Assignment Vulnerability

Mass Assignment Vulnerabilities arise when a codebase utilizes mass assignment methods to create or update models, unintentionally exposing attributes that should not be accessible to users. Attackers may exploit this to manipulate object properties that are not intended for external access.

### Step 1: Identify unprotected endpoints
Identify the routes, URL parameters, and the endpoints of your API or application where mass assignment is used and think about if the user should have the right to modify all properties.

```javascript
app.post('/api/users', function(req, res) {
  const user = new User(req.body);
  user.save();
});
```

### Step 2: Use whitelisting

Use whitelisting to ensure that only expected parameters are passed to mass assignment functions. This can be done by defining an array or list of accepted parameters and ensuring that only these are used in your mass assignment function.

For example, in JavaScript using Express:

```javascript
app.post('/api/users', function(req, res) {
  const allowedParams = ['username', 'email', 'age'];
  const userParams = {};

  allowedParams.forEach((param) => {
    if(req.body[param]) {
      userParams[param] = req.body[param];
    }
  });

  const user = new User(userParams);
  user.save();
});
```

In this case, only the 'username', 'email', and 'age' parameters would be saved to the database, regardless of any additional parameters included in the request body.